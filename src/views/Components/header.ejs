<!DOCTYPE html>
<html>
<head>
	<!-- Title -->
	<title><%= title %></title>
	<!-- Bootstrap Meta tags -->
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap css -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/app.css">
    <!-- CSS by params -->
    <% if(locals.css) { %>
    	<% css.forEach((css) => { %>
    		<link rel="stylesheet" type="text/css" href="css/<%= css %>">
    	<% }); %>
    <% } %>
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/4d9d2b4994.js" crossorigin="anonymous"></script>
</head>
<body>
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg shadow navbar-dark bg-dark">
		<!-- Navbar container -->
		<div class="container-fluid">
			<!-- Navbar title -->
			<a class="navbar-brand" href="<%= process.env.APP_URL %>">
				<%= process.env.APP_NAME %>	
			</a>

			<!-- Navbar toggle button -->
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- Navbar collapsed content -->
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<!-- Left side of navbar -->
				<ul class="navbar-nav mr-auto mb-2 mb-lg-0">
					<!-- Home -->
					<li class="nav-item">
						<a class="nav-link" href="<%= process.env.APP_URL %>">Home</a>
					</li>

					<% if (global.loggedIn) { %>
						<!-- Register a new goal -->
						<li class="nav-item">
							<a class="nav-link" href="<%= process.env.APP_URL %>/goals/new">New Goal</a>
						</li>
					<% } %>
				</ul>

				<!-- Middle side of navbar -->
				<ul class="navbar-nav mx-auto mb-2 mb-lg-0">
					<!-- Search form -->
					<form class="d-flex" action="<%= process.env.APP_URL %>/search" method="POST">
						<!-- Text input -->
						<input class="form-control" name="term" type="search" id="search-input" placeholder="Search" aria-label="Search">

						<!-- Search button -->
						<button class="btn btn-outline-success" id="search-button" type="submit">Search</button>
					</form>
				</ul>

				<!-- Right side of navbar -->
				<ul class="navbar-nav ml-auto mb-2 mb-lg-0">
					<% if (global.loggedIn) { %>
						<!-- Logout -->
						<li class="nav-item">
							<a class="nav-link disabled" href="<%= process.env.APP_URL %>/logout">Logout</a>
						</li>
					<% } else { %>
						<!-- Register -->
						<li class="nav-item">
							<a class="nav-link" href="<%= process.env.APP_URL %>/register">Register</a>
						</li>

						<!-- Separator -->
						<li class="nav-item">
							<a class="nav-link"> | </a>
						</li>

						<!-- Login -->
						<li class="nav-item">
							<a class="nav-link" href="<%= process.env.APP_URL %>/login">Login</a>
						</li>
					<% } %>
				</ul>
			</div>
		</div>
	</nav>